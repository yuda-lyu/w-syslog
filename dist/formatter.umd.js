/*!
 * formatter v1.0.1
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("fs"),require("path"),require("stream")):"function"==typeof define&&define.amd?define(["fs","path","stream"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).formatter=e(t.fs,t.path,t.stream)}(this,function(t,e,r){"use strict";var n=Array.isArray,o="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,a=o||i||Function("return this")(),u=a.Symbol,c=Object.prototype,l=c.hasOwnProperty,s=c.toString,f=u?u.toStringTag:void 0;var p=Object.prototype.toString;var h=u?u.toStringTag:void 0;function y(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?function(t){var e=l.call(t,f),r=t[f];try{t[f]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[f]=r:delete t[f]),o}(t):function(t){return p.call(t)}(t)}function _(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==y(t)}var v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/;function g(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var b,j=a["__core-js_shared__"],O=(b=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"";var S=Function.prototype.toString;var m=/^\[object .+?Constructor\]$/,w=Function.prototype,z=Object.prototype,$=w.toString,x=z.hasOwnProperty,P=RegExp("^"+$.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function A(t){if(!g(t)||(e=t,O&&O in e))return!1;var e,r=function(t){if(!g(t))return!1;var e=y(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?P:m;return r.test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function F(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return A(r)?r:void 0}var T=F(Object,"create");var C=Object.prototype.hasOwnProperty;var E=Object.prototype.hasOwnProperty;function k(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function q(t,e){return t===e||t!=t&&e!=e}function I(t,e){for(var r=t.length;r--;)if(q(t[r][0],e))return r;return-1}k.prototype.clear=function(){this.__data__=T?T(null):{},this.size=0},k.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},k.prototype.get=function(t){var e=this.__data__;if(T){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return C.call(e,t)?e[t]:void 0},k.prototype.has=function(t){var e=this.__data__;return T?void 0!==e[t]:E.call(e,t)},k.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=T&&void 0===e?"__lodash_hash_undefined__":e,this};var B=Array.prototype.splice;function R(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}R.prototype.clear=function(){this.__data__=[],this.size=0},R.prototype.delete=function(t){var e=this.__data__,r=I(e,t);return!(r<0)&&(r==e.length-1?e.pop():B.call(e,r,1),--this.size,!0)},R.prototype.get=function(t){var e=this.__data__,r=I(e,t);return r<0?void 0:e[r][1]},R.prototype.has=function(t){return I(this.__data__,t)>-1},R.prototype.set=function(t,e){var r=this.__data__,n=I(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var W=F(a,"Map");function D(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function G(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}G.prototype.clear=function(){this.size=0,this.__data__={hash:new k,map:new(W||R),string:new k}},G.prototype.delete=function(t){var e=D(this,t).delete(t);return this.size-=e?1:0,e},G.prototype.get=function(t){return D(this,t).get(t)},G.prototype.has=function(t){return D(this,t).has(t)},G.prototype.set=function(t,e){var r=D(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function L(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(L.Cache||G),r}L.Cache=G;var M,N,U,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/\\(\\)?/g,K=(M=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(H,function(t,r,n,o){e.push(n?o.replace(J,"$1"):r||t)}),e},N=L(M,function(t){return 500===U.size&&U.clear(),t}),U=N.cache,N),Q=K;var V=u?u.prototype:void 0,X=V?V.toString:void 0;function Y(t){if("string"==typeof t)return t;if(n(t))return function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(t,Y)+"";if(_(t))return X?X.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Z(t,e){return n(t)?t:function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!_(t))||d.test(t)||!v.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:Q(function(t){return null==t?"":Y(t)}(t))}function tt(t){if("string"==typeof t||_(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function et(t,e,r){var n=null==t?void 0:function(t,e){for(var r=0,n=(e=Z(e,t)).length;null!=t&&r<n;)t=t[tt(e[r++])];return r&&r==n?t:void 0}(t,e);return void 0===n?r:n}function rt(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}return async function(n){let o=et(n,"fdLog");rt(o)||(o="./_logs");let i=et(n,"interval");"day"!==i&&"hr"!==i&&(i="day"),t.existsSync(o)||t.mkdirSync(o,{recursive:!0});let a=null,u="",c=()=>{let r=(()=>{let t=new Date;return"hr"===i?t.toISOString().slice(0,13).replace(/:/g,"-"):t.toISOString().slice(0,10)})();if(r!==u){u=r;let n=(t=>{let r=`${t}.log`;return e.join(o,r)})(r);a&&a.end(),a=t.createWriteStream(n,{flags:"a"})}};return c(),new r.Writable({write(t,e,r){try{c();const e=Buffer.isBuffer(t)?t.toString("utf8"):String(t);a.write(e+"\n",r)}catch(t){r(t)}}})}});
//# sourceMappingURL=formatter.umd.js.map
